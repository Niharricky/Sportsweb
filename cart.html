<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cart</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container mt-5">
  <h1>Shopping Cart</h1>

  <!-- Cart Items -->
  <div id="cart-list" class="mt-4">
    <!-- Cart items will be dynamically added here -->
  </div>

  <div class="mt-3">
    <button id="pay-button" class="btn btn-primary" onclick="window.location.href='payment.html'">Proceed to Pay</button>
  </div>
</div>
<!-- Button to clear all items from the cart -->
<div class="mt-3">
  <button id="clear-cart" class="btn btn-danger">Clear Cart</button>
</div>

<script>
  // Function to display the cart items from localStorage
  function displayCart() {
    const cartList = document.getElementById('cart-list');
    const cart = JSON.parse(localStorage.getItem('cart')) || [];

    if (cart.length === 0) {
      cartList.innerHTML = '<p>Your cart is empty!</p>';
      return;
    }

    // Loop through the cart and display items
    cart.forEach((item, index) => {
      const cartItemDiv = document.createElement('div');
      cartItemDiv.classList.add('card', 'mt-3');
      cartItemDiv.innerHTML = `
        <div class="card-body">
          <div class="d-flex justify-content-between">
            <div>
              <strong>${item.name}</strong>
              <p>$${item.price}</p>
            </div>
            <div>
              <button class="btn btn-danger" onclick="removeItem(${index})">Remove</button>
            </div>
          </div>
        </div>
      `;
      cartList.appendChild(cartItemDiv);
    });
  }
// Function to remove an item from the cart
function removeItem(index) {
  const cart = JSON.parse(localStorage.getItem('cart')) || [];
  cart.splice(index, 1); // Remove the item at the specified index

  // Save the updated cart back to localStorage
  localStorage.setItem('cart', JSON.stringify(cart));

  // Refresh the cart display after removing the item
  displayCart();
}

// Function to clear the entire cart
function clearCart() {
  localStorage.removeItem('cart'); // Remove the cart from localStorage
  displayCart(); // Refresh the cart display (should be empty now)
}

// Add event listener for clearing the cart
document.getElementById('clear-cart').addEventListener('click', clearCart);
  // Display the cart when the page loads
  displayCart();
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
